<style>
	.print-format {
		padding: 4mm;
		font-size: 8.0pt !important;
	}
	.print-format td {
		vertical-align:middle !important;
	}
</style>
	<p class="text-right text-muted">{{ __("Printed On ") }}{%= frappe.datetime.str_to_user(frappe.datetime.get_datetime_as_string()) %}</p>
	<div class="container">
	<h2 class="text-center" style="margin-top:0">{%= __(report.report_name) %}</h2>

	<div class="col-xs-6">
	<table class="table table-bordered">
		<thead>
			<tr>
						<th style="width: 14%">{%= __("Sales Person") %}</th>
						<th style="width: 10%">{%= __("Territory") %}</th>
						<th style="width: 24%">{%= __("Amount") %}</th>
					
			</tr>
		</thead>
		<tbody>
			{% for(var i=0, l=data.length; i<l; i++) { %}
				{% if(data[i]["paid_amount"]) { %}
					<tr>
							<td style="text-align: left">{%= data[i]["sales_person"] %}</td>
							<td style="text-align: left">{%= data[i]["territory"] %}</td>
							<td style="text-align: right">{%= data[i]["paid_amount"] %}</td>						
					</tr>
				{%	} %}
			{% } %}
		</tbody>
		<tfoot>		

			<tr >
			  <td class="table-secondary">Total</td>
			  <td class="table-secondary"></td>
			  <td style="text-align: right; font-weight:bold " class="table-secondary">{%= data.filter(da=> da["paid_amount"]>0).map(d=> d["paid_amount"]).reduce((t,v)=> t+v,0)  %}</td>
			</tr>
		  </tfoot>
	</table>
</div>
<div class="col-xs-6">
	<table class="table table-striped">
		<thead>
			<tr>
						<th style="width: 14%">{%= __("Expense Head") %}</th>
						<th style="width: 24%">{%= __("Amount") %}</th>
					
			</tr>
		</thead>
		<tbody>
			{% for(var i=0, l=data.length; i<l; i++) { %}
				{% if(data[i]["account"]) { %}
					<tr>

							<td style="text-align: left">{%=
								data[i]["account"] +(data[i]["party"]?" : "+data[i]["party"]:"") +(data[i]["user_remark"]?" : "+data[i]["user_remark"]:"")
								%}</td>
							<td style="text-align: right">{%= data[i]["expense_amount"] %}</td>						
					</tr>
				{%	} %}
			{% } %}
		</tbody>
		<tfoot>		

			<tr>
			  <td>Total</td>
			  <td style="text-align: right; font-weight:bold">{%= data.filter(da=> da["expense_amount"]>0).map(d=> d["expense_amount"]).reduce((t,v)=> t+v,0)  %}</td>
			</tr>
		  </tfoot>
	</table>
</div>
<div class="row">
	<div class="col-xs-6">
		{% for(var i=0, l=data.length; i<l; i++) { %}
		{% if(data[i]["totals"]) { %}
		<div class="row text-left">
			<div class="col-xs-6 lead">
			 {%="Cash in Hand :  " +data[i]["totals"]["cash_in_hand"] %}
			 </div>
			 <div class="col-xs-6 lead">
			{%="Bank Position :  " +data[i]["totals"]["bank_in_hand"] %}
			</div>
			</div>
			{%	break } %}
			{% } %}
	</div>
</div>