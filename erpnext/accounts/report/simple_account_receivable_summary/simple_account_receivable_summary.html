<style>
	.print-format {
		padding: 3mm;
		font-size: 7.0pt !important;
	}
	.print-format td {
		vertical-align:middle !important;
	}
</style>
	<p class="text-right text-muted">{{ __("Printed On ") }}{%= frappe.datetime.str_to_user(frappe.datetime.get_datetime_as_string()) %}</p>
	<div class="container">
	<div class="row">
		{% if (filters.customer) { %}
		<div class="col text-center font-weight-light"> 
			{{ __("Customer Name: ") }} {%= filters.customer_name %} 
		</div>
		{% } %}

		{% if (filters.sales_person) { %}
		<div 	class="col text-center font-weight-light"> 
			{{ __("Sales Person: ") }} {%= filters.sales_person %} 
		</div>
		{% }  %}			

		{% if (filters.territory) { %}
		<div 	class="col text-center font-weight-light"  style="width: 95%;"> 
			{{ __("Sector: ") }}	{%= filters.territory %} 
		</div>
		{% }  %}
	</div>
	<table class="table table-borderless align-right">
		<thead>
			<tr>
				<th width="15%">{%= __("Customer Name") %}</th>
				<th width="20%" >{%= __("Address") %} </th>
				<th width="8%">{%= __("Last Invoice ") %}</th>
				<th width="8%">{%= __("Last Invoice") %}</th>
				<th width="8%">{%= __("Last Payment ") %}</th>
				<th width="8%">{%= __("Last Payment") %}</th>
				<th width="13%">{%= __("Overdue") %}</th>
				<th width="13%">{%= __("Total Balance") %}</th>
				<th width="4%">{%= __("Code") %}</th>
				<th width="5%">{%= __("...") %}</th>

			</tr>
		</thead>
		<tbody style="font-size: 1rem; white-space:nowrap;">
			{% for(var i=0, l=data.length; i<l; i++) { %}
				<tr style="text-align: left; max-width: 90%">
					<td style="text-align: left">
						{%= data[i]["party"]?data[i]["party"].split("-",2)[1]:"" %}	 
					</td>					
					<td style="max-width:30px;text-overflow:ellipsis; overflow: hidden;">{%= data[i]["primary_address"]?
						data[i]["primary_address"].replaceAll("<br>"," ").replace("Pakistan",""):
						"" %}
					</td>
					<td style="text-align: center">	
						{%= data[i]["last_invoice_date"] %}
					</td>
					<td style="text-align: center">	
						{%= data[i]["last_invoice_amount"]!=0?data[i]["last_invoice_amount"]:'' %}
					</td>
					<td style="text-align: center">	
						{%= data[i]["last_payment_date"] %}
					</td>
					<td style="text-align: center">	
						{%= data[i]["last_payment_amount"]!=0?data[i]["last_payment_amount"]:'' %}
					</td>

					<td style="text-align: center">
						{%= data[i]["overdue_amount"] %}
					</td>
					
					<td style="text-align: center; font-size:1.3rem">
							{%= format_currency(data[i]["balance"].toFixed(), data[i]["currency"]).split(".")[0] %}
					</td>
					<td style="text-align: right;font-weight:bold;font-size:1.3rem">	
						{%= data[i]["party"]?data[i]["party"].split("-",2)[0]:"" %}
					</td>

					<td  style="width:20px;"></td>
									
				</tr>
			{% } %}

		</tbody>
	</table>


{% for page in report %}
<div class="page-break">
	<div id="footer-html" class="visible-pdf">
		<p class="text-center small page-number visible-pdf">
			{{ _("Page {0} of {1}").format('<span class="page"></span>', '<span class="topage"></span>') }}
		</p>
	</div>


</div>
{% endfor %}